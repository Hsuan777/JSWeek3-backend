---
title: Backend
layout: ./app/layout.ejs
engine: ejs
current: backend
---
<main id="app">
  <!-- 表格形式 -->
  <section class="container">
    <h2 class="mt-2 font-weight-bold d-flex justify-content-between">
      產品列表 (後臺管理)
    </h2>
    <div class="d-flex justify-content-end mb-2">
      <button type="button" class="btn btn-primary px-3" data-toggle="modal"
        data-target="#addProductModal">新增產品</button>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th scope="row">分類</th>
          <th scope="row" width="600px">產品名稱</th>
          <th scope="row" class="text-right">原價</th>
          <th scope="row" class="text-right">售價</th>
          <th scope="row" class="text-center">是否啟用</th>
          <th scope="row" >編輯</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="(item, key) in listProduct" :key="item.id">
          <td>{{item.category}}</td>
          <td>{{item.title}}</td>
          <td class="text-right">{{item.origin_price}}</td>
          <td class="text-right">{{item.price}}</td>
          <td class="text-center">{{item.enabled}}</td>
          <td class="">
            <button class="btn btn-warning" @click="edit(item)" data-toggle="modal"
            data-target="#editProductModal">修改</button>
            <button class="btn btn-danger" @click="remove(item)">刪除</button>
          </td>

        </tr>
      </tbody>
    </table>

    <!-- add Modal -->
    <div class="modal fade" id="addProductModal" tabindex="-1" role="dialog" aria-labelledby="addProductModalLabel"
      aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">新增產品</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form action="#">
              <div class="form-row">
                <div class="col-6">
                  <div class="form-group">
                    <label for="" class="">產品圖片</label>
                    <input type="text" placeholder="請輸入圖片網址" class="form-control" v-model="product.imgUrl">
                  </div>
                  <img :src="product.imgUrl" alt="" class="img-fluid">
                </div>
                <div class="col-6">
                  <div class="form-group">
                    <label for="" class="">產品名稱</label>
                    <input type="text" placeholder="產品名稱" class="form-control" v-model="product.title">
                  </div>
                  <div class="form-row justify-content-between">
                    <div class="col-6">
                      <div class="form-group">
                        <label for="" class="">分類</label>
                        <input type="text" placeholder="分類名稱" class="form-control" v-model="product.category">
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-group">
                        <label for="" class="">單位</label>
                        <input type="text" placeholder="台" class="form-control" v-model="product.unit">
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-group">
                        <label for="" class="">原價</label>
                        <input type="number" placeholder="" class="form-control" v-model="product.origin_price">
                      </div>
                    </div>

                    <div class="col-6">
                      <div class="form-group">
                        <label for="" class="">售價</label>
                        <input type="number" placeholder="" class="form-control" v-model="product.price">
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="" class="">產品圖片描述</label>
                    <textarea type="text" placeholder="" class="form-control" v-model="product.imgAlt"></textarea>
                  </div>
                  <div class="form-group">
                    <label for="" class="">產品說明</label>
                    <textarea type="text" placeholder="" class="form-control" v-model="product.content"></textarea>
                  </div>
                  <div class="form-checkbox">
                    <input type="checkbox" id="isUp" placeholder="" class=""  v-model="product.enabled">
                    <label for="isUp" class="">是否啟用</label>
                  </div>
                </div>
              </div>



            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" @click="addProduct" data-dismiss="modal">Save</button>
          </div>
        </div>
      </div>
    </div>

    <!-- edit Modal -->
    <div class="modal fade" id="editProductModal" tabindex="-1" role="dialog" aria-labelledby="addProductModalLabel"
      aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">新增產品</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form action="#">
              <div class="form-row">
                <div class="col-6">
                  <div class="form-group">
                    <label for="" class="">產品圖片</label>
                    <input type="text" placeholder="請輸入圖片網址" class="form-control" v-model="temp.imgUrl">
                  </div>
                  <img :src="temp.imgUrl" alt="" class="img-fluid">
                </div>
                <div class="col-6">
                  <div class="form-group">
                    <label for="" class="">產品名稱</label>
                    <input type="text" placeholder="產品名稱" class="form-control" v-model="temp.title">
                  </div>
                  <div class="form-row justify-content-between">
                    <div class="col-6">
                      <div class="form-group">
                        <label for="" class="">分類</label>
                        <input type="text" placeholder="分類名稱" class="form-control" v-model="temp.category">
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-group">
                        <label for="" class="">單位</label>
                        <input type="text" placeholder="台" class="form-control" v-model="temp.unit">
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-group">
                        <label for="" class="">原價</label>
                        <input type="number" placeholder="" class="form-control" v-model="temp.origin_price">
                      </div>
                    </div>

                    <div class="col-6">
                      <div class="form-group">
                        <label for="" class="">售價</label>
                        <input type="number" placeholder="" class="form-control" v-model="temp.price">
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="" class="">產品圖片描述</label>
                    <textarea type="text" placeholder="" class="form-control" v-model="temp.imgAlt"></textarea>
                  </div>
                  <div class="form-group">
                    <label for="" class="">產品說明</label>
                    <textarea type="text" placeholder="" class="form-control" v-model="temp.content"></textarea>
                  </div>
                  <div class="form-checkbox">
                    <input type="checkbox" id="isUp" placeholder="" class=""  v-model="temp.enabled">
                    <label for="isUp" class="">是否啟用</label>
                  </div>
                </div>
              </div>

            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" @click="updateData()" data-dismiss="modal">Save</button>
          </div>
        </div>
      </div>
    </div>

  </section>
</main>